<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>ESP32-CAM Posture Coach</title>\n    <style>\n        body { font-family: Arial, sans-serif; margin: 0; padding: 0; display: flex; flex-direction: column; align-items: center; }\n        header { background: #4CAF50; width: 100%; color: white; text-align: center; padding: 10px 0; }\n        #cameraFeed { width: 100%; max-width: 600px; }\n        #gauge { width: 200px; height: 200px; border-radius: 50%; border: 15px solid #4CAF50; display: flex; justify-content: center; align-items: center; margin: 20px; }\n        #stats { display: flex; flex-direction: column; align-items: center; }\n        .button { background: #008CBA; color: white; border: none; padding: 10px 20px; margin: 5px; cursor: pointer; }\n        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgb(0,0,0); background-color: rgba(0,0,0,0.4); padding-top: 60px; }\n        .modal-content { background-color: #fefefe; margin: 5% auto; padding: 20px; border: 1px solid #888; width: 80%; }\n        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; }\n    </style>\n</head>\n<body>\n    <header>\n        <h1>ESP32-CAM Posture Coach Dashboard</h1>\n    </header>\n    <img id=\"cameraFeed\" src=\"/stream\" alt=\"Camera Feed\">\n    <div id=\"gauge\">\n        <span id=\"scoreValue\">%score%</span>\n    </div>\n    <div id=\"stats\">\n        <p>Current Distance: <span id=\"distanceValue\"></span></p>\n        <p>Session Duration: <span id=\"durationValue\"></span></p>\n        <p>Avg Score: <span id=\"avgScoreValue\"></span></p>\n        <p>Alerts: <span id=\"alertsValue\"></span></p>\n        <p>Breaks: <span id=\"breaksValue\"></span></p>\n    </div>\n    <button class=\"button\" id=\"takeBreak\">Take Break</button>\n    <button class=\"button\" id=\"snooze\">Snooze</button>\n    <button class=\"button\" id=\"privacyMode\">Privacy Mode</button>\n    <button class=\"button\" id=\"openSettings\">Settings</button>\n    <div id=\"settingsModal\" class=\"modal\">\n        <div class=\"modal-content\">\n            <span class=\"close\">&times;</span>\n            <h2>Settings</h2>\n            <label for=\"volume\">Volume:</label>\n            <input type=\"range\" id=\"volume\" min=\"0\" max=\"100\">\n            <label for=\"brightness\">Brightness:</label>\n            <input type=\"range\" id=\"brightness\" min=\"0\" max=\"100\">\n        </div>\n    </div>\n    <script>\n        setInterval(async () => {\n            const response = await fetch('/api/posture/current');\n            const data = await response.json();\n            document.getElementById('scoreValue').innerText = data.score;\n            document.getElementById('distanceValue').innerText = data.distance;\n            document.getElementById('avgScoreValue').innerText = data.avgScore;\n            document.getElementById('durationValue').innerText = data.duration;\n            document.getElementById('alertsValue').innerText = data.alerts;\n            document.getElementById('breaksValue').innerText = data.breaks;\n            updateGauge(data.score);\n        }, 3000);\n        document.getElementById('openSettings').onclick = () => {\n            document.getElementById('settingsModal').style.display = 'block';\n        };\n        document.getElementsByClassName('close')[0].onclick = () => {\n            document.getElementById('settingsModal').style.display = 'none';\n        };\n        function updateGauge(score) {\n            const gauge = document.getElementById('gauge');\n            gauge.style.borderColor = score < 50 ? 'red' : 'green';\n        }\n    <\/script>\n</body>\n</html>\n